<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Register | Secure Portal</title>

    <!-- Bootstrap 5 -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- SweetAlert2 -->
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

    <style>
        body { background-color: #f5f6fa; }
        .auth-card { max-width: 460px; margin: auto; margin-top: 60px; border-radius: 12px; box-shadow: 0 10px 25px rgba(0,0,0,.08); }
        .form-control:focus { box-shadow: none; border-color: #696cff; }
        .btn-primary { background-color: #696cff; border: none; }
        .btn-primary:hover { background-color: #5f63f2; }
    </style>
</head>
<body>
<div class="container">
    <div class="card auth-card">
        <div class="card-body p-4">
            <h4 class="mb-2 text-center">Create an Account ðŸš€</h4>
            <p class="text-muted text-center mb-4">Secure registration with OTP verification</p>

            <!-- Flash messages -->
            <div th:if="${success}" class="alert alert-success" th:text="${success}"></div>
            <div th:if="${error}" class="alert alert-danger" th:text="${error}"></div>

            <!-- Registration Form -->
            <form th:action="@{/register}" method="post">
                <div class="mb-3">
                    <label>Full Name</label>
                    <input type="text" name="fullName" class="form-control"
                           th:value="${prefillFullName}" required>
                </div>

                <div class="mb-3">
                    <label>Username</label>
                    <input type="text" name="username" class="form-control"
                           th:value="${prefillUsername}" required>
                </div>

                <div class="mb-3">
                    <label>Email</label>
                    <input type="email" name="email" class="form-control"
                           th:value="${prefillEmail}" required>
                </div>

                <div class="mb-3">
                    <label>Mobile Number</label>
                    <input type="tel" name="mobile" class="form-control"
                           th:value="${prefillMobile}" placeholder="01XXXXXXXXX" required>
                </div>

                <div class="mb-3">
                    <label>Password</label>
                    <input type="password" name="password" class="form-control" required minlength="8">
                </div>

                <div class="mb-3">
                    <label>Confirm Password</label>
                    <input type="password" name="confirmPassword" class="form-control" required>
                </div>

                <!-- Terms -->
                <div class="mb-3 form-check">
                    <input class="form-check-input" type="checkbox" id="terms" required>
                    <label class="form-check-label">I agree to <a href="#">terms & conditions</a></label>
                </div>

                <button type="submit" class="btn btn-primary w-100">Register</button>
            </form>

            <div class="text-center mt-3">
                <small>Already have an account? <a th:href="@{/login}">Login</a></small>
            </div>
        </div>
    </div>
</div>

<!-- SweetAlert Flash Messages -->
<script th:inline="javascript">
    /*<![CDATA[*/
    let error = /*[[${error}]]*/ null;
    let success = /*[[${success}]]*/ null;

    if (error) {
        Swal.fire({ icon: 'error', title: 'Oops!', text: error });
    }
    if (success) {
        Swal.fire({ icon: 'success', title: 'Success', text: success });
    }
    /*]]>*/
</script>

</body>
</html>
